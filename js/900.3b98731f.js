"use strict";(self["webpackChunkxiangyu"]=self["webpackChunkxiangyu"]||[]).push([[900],{5278:function(t,e,n){n.d(e,{hg:function(){return b},D8:function(){return v},_u:function(){return m},KM:function(){return y},jm:function(){return h},Ue:function(){return p},LH:function(){return x},lM:function(){return f},$B:function(){return _},mz:function(){return A},x4:function(){return u},CZ:function(){return l},z6:function(){return k},Aj:function(){return U},nt:function(){return g},h5:function(){return C},l8:function(){return d},hd:function(){return a},rC:function(){return w}});var o=n(6265),s=n.n(o),r=n(6163);s().defaults.baseURL="https://study-api.hanwenbo.top/";const c=(t,e)=>{switch(t){case 400:console.log("信息验证失败");break;case 401:console.log("认证失败");break;case 403:localStorage.removeItem("token"),console.log("token校验失败");break;case 404:console.log("请求资源不存在");break;default:console.log(e);break}};s().interceptors.request.use((function(t){t.headers={"Content-Type":"application/json",Accept:"application/json"};const e=(0,r.LP)();return e&&(t.headers.Authorization=e),t}),(function(t){return Promise.reject(t)})),s().interceptors.response.use((function(t){return t.headers.authorization&&(0,r.o4)(t.headers.authorization),200===t.status?Promise.resolve(t.data):Promise.reject(t)}),(function(t){const{response:e}=t;if(e)return c(e.status,e.data.message),Promise.reject(e.data);console.log("断了")}));var i=s();function u(){return i.get("/user/wechat/login-test")}function a(){return i.get("/study/statistics")}function l(){return i.get("/deal/statistics")}function d(){return i.get("/study/books/recommend")}function A(t){return i.get(`/study/books/${t}`)}function f(t){return i["delete"](`/study/books/${t}`)}function g(t){return i.get("/deal/money",{params:t})}function w(t){return i.get("/study/books/"+t+"/users")}function m(t,e){return i.get("/study/books/"+t+"/entries",{params:e})}function p(t){return i.post("/study/books",t)}function k(){return i.get("/study/books")}function y(t,e){return i.post("/study/books/"+t+"/collect",e)}function h(t,e){return i.post("/study/entries/"+t+"/collect",e)}function v(t){return i.get(`/study/entries/${t}`)}function b(t,e){return i.put(`/study/entries/${t}`,e)}function _(t){return i["delete"](`/study/entries/${t}`)}function C(){return i.get("/study/books/recent")}function x(t){return i.post("/study/entries",t)}function U(){return i.get("/study/books/create")}},6163:function(t,e,n){n.d(e,{LP:function(){return u},PR:function(){return c},av:function(){return r},o4:function(){return i}});var o=n(5269),s=n.n(o);const r=t=>{s().set("user",t,216e3)},c=()=>s().get("user"),i=t=>{s().set("token",t,216e3)},u=()=>s().get("token")},900:function(t,e,n){n.r(e),n.d(e,{default:function(){return Q}});var o=n(3396),s=n(7139),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFXSURBVHgB1ZNLTgJBEIarqkccEhPbBUZ3rNS4QW8AN+AGcgPwBOAN8ATiCfQGjjfAjVHZuJOIib1wIQnTZfUkkHloGEc2/plM19RUf6nq6kKtqxr8tSYUkgrM+OE57vGgvN5DhjYUEbKR91bcRcA4hIJiCwH8O6HeOagC2O7yUL4149HAWa6R5Jfa1sKdeX26TgJ39/t5m8KhPTaT0VBv7zWR8AoQzPvLY6IpHszUgFVYW0qTzQ4W2URa8O7R6TDPTO5dUANWJIIVy9OVwyOksCslZdKXMztdlJkXCGrWkQP6dvSIoCVLx9lyG1rEXLPT6Vk6ziVFFJ5YxHNPtvWYZYSQNzMZourPbQS+YJS1XKqz5UtxLGBS4Q1HFVqNkFOSYU+g2fvKYKLjkpWtaijIqc+Pt8DfqKBkUE/8QPDnMHdjcgN/hMZg7vNXwAw0BfuT3Pi5hqT9X4Tfi+zeVyhZAAAAAElFTkSuQmCC",c=n(4870),i=n(5278),u=n(2483),a=n(2135);const l=t=>((0,o.dD)("data-v-cfdad58e"),t=t(),(0,o.Cn)(),t),d={class:"px-4 pt-4"},A={class:"flex justify-between"},f=l((()=>(0,o._)("img",{src:r,alt:"",class:"select-photo"},null,-1))),g={key:0},w={class:"text-xs"},m={class:"flex justify-between"},p={class:"text-xl font-semibold"},k=["src","onClick"],y={class:"word-translate"},h={key:1},v={class:"text-xs"},b={class:"flex justify-between"},_={class:"text-xl font-semibold"},C=["src","onClick"],x={class:"word-translate"},U={key:2},D={class:"text-xs"},z={class:"flex justify-between"},B={class:"text-xl font-semibold"},S=["src","onClick"],W={class:"word-translate"};var j={__name:"AllCard",setup(t){const e=(0,u.yj)(),r=(0,c.qj)({searchWord:[],search:"",isShow:!0,direcrtion:[],isDirection:0}),l=(0,c.iH)({items:[]});let j={page:1,limit:10},H=!1;const E=async()=>{try{const t=await(0,i._u)(e.query.id,j);l.value.items=l.value.items.concat(t.data.items),l.value.total=t.data.total,H=!1}catch(t){console.log(t)}},Q=async()=>{try{const t=await(0,i._u)(e.query.id,{search:r.search});r.searchWord=t.data,console.log(r.searchWord),r.searchWord.items&&(r.isShow=!r.isShow)}catch(t){console.log(t)}},Y=async(t,e)=>{try{await(0,i.jm)(t),F(e)}catch(n){console.log(n)}},F=async t=>{l.value.items[t].is_collect?(0,a.g)("取消收藏"):(0,a.g)({message:"收藏成功",color:"#FFFFFF",background:"#12BFA2"})},P=(0,c.iH)(!1),T=[{text:"首字母排序",icon:"add-o"}],R=async()=>{try{const t=await(0,i._u)(e.query.id,{direction:"asc"});r.direction=t.data,console.log(r.direction.items),r.direction&&(r.isDirection=!r.isDirection,console.log(r.isDirection))}catch(t){console.log(t)}},q=()=>{if(l.value.items.length===l.value.total)return;let t=document.documentElement.offsetHeight-document.documentElement.scrollTop-window.innerHeight<=200;t&&!H&&(H=!0,j.page++,E())};return E(),window.onscroll=()=>{q(l)},(t,e)=>{const c=(0,o.up)("van-search"),i=(0,o.up)("van-button"),u=(0,o.up)("van-popover"),a=(0,o.up)("van-cell"),j=(0,o.up)("van-swipe-cell");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o._)("div",A,[(0,o._)("div",null,[(0,o.Wm)(c,{modelValue:r.search,"onUpdate:modelValue":e[0]||(e[0]=t=>r.search=t),background:"#ffffff",class:"search",onSearch:Q},null,8,["modelValue"])]),(0,o._)("div",null,[(0,o.Wm)(u,{show:P.value,"onUpdate:show":e[1]||(e[1]=t=>P.value=t),actions:T,"close-on-click-action":!1,placement:"bottom-end",onSelect:R},{reference:(0,o.w5)((()=>[(0,o.Wm)(i,{type:"primary",class:"select-button"},{default:(0,o.w5)((()=>[f])),_:1})])),_:1},8,["show"])])]),r.isShow&&!r.isDirection?((0,o.wg)(),(0,o.iD)("ul",g,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.value.items,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{class:"mb-4",key:e},[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o._)("span",w,(0,s.zw)(e+1),1),(0,o.Wm)(a,{border:!1,class:"word-card"},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o._)("div",null,[(0,o._)("span",p,(0,s.zw)(t.front),1)]),(0,o._)("div",null,[(0,o._)("img",{src:t.is_collect?n(2301):n(3282),onClick:n=>Y(t.id,e)},null,8,k)])]),(0,o._)("div",y,(0,s.zw)(t.back),1)])),_:2},1024)])),_:2},1024)])))),128))])):(0,o.kq)("",!0),r.isDirection?((0,o.wg)(),(0,o.iD)("ul",h,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.direction.items,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{class:"mb-4",key:e},[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o._)("span",v,(0,s.zw)(e+1),1),(0,o.Wm)(a,{border:!1,class:"word-card"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o._)("div",null,[(0,o._)("span",_,(0,s.zw)(t.front),1)]),(0,o._)("div",null,[(0,o._)("img",{src:t.is_collect?n(2301):n(3282),onClick:n=>Y(t.id,e)},null,8,C)])]),(0,o._)("div",x,(0,s.zw)(t.back),1)])),_:2},1024)])),_:2},1024)])))),128))])):((0,o.wg)(),(0,o.iD)("ul",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.searchWord.items,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{class:"mb-4",key:e},[(0,o.Wm)(j,null,{default:(0,o.w5)((()=>[(0,o._)("span",D,(0,s.zw)(e+1),1),(0,o.Wm)(a,{border:!1,class:"word-card"},{default:(0,o.w5)((()=>[(0,o._)("div",z,[(0,o._)("div",null,[(0,o._)("span",B,(0,s.zw)(t.front),1)]),(0,o._)("div",null,[(0,o._)("img",{src:t.is_collect?n(2301):n(3282),onClick:e=>Y(t.id)},null,8,S)])]),(0,o._)("div",W,(0,s.zw)(t.back),1)])),_:2},1024)])),_:2},1024)])))),128))]))])}}},H=n(89);const E=(0,H.Z)(j,[["__scopeId","data-v-cfdad58e"]]);var Q=E},2301:function(t,e,n){t.exports=n.p+"img/collectIcon.e56c0850.png"},3282:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADNSURBVHgB7ZMxCsJAFERntUlpq+AZhKzB2HmEHMEbBE+gdpbeQLyB3kArU4jkBrEQra3F/W60zf8kQQiBvCLNTObBsgs0VI2SQq3HASmzsbWOMDG7nE9rLm1BwIACeTzdp4EUiwJ6Y2G/OzYHDuaFJcoK4ji6wqg9lyuD7bdTVvAP6i9oS6H2RqG9yCt72k5mQdGk2+s7j/vtWFjgDv25XeDHf4Y0SyVPK4myGvwRKUyRF0UhF7ECMshNka6Iq/3E9fykyD/NO6he0FA9H8eZMxH2rsw+AAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=900.3b98731f.js.map